# ===================================
# MEDWEG Backend Environment Variables
# ===================================
#
# CRITICAL SETUP INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Generate secure secrets: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 3. NEVER commit .env file to git
# 4. Use different secrets for production and development
#

# Server Configuration
NODE_ENV=development
PORT=5000
API_VERSION=v1

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=MEDWEG
DB_USER=postgres
DB_PASSWORD=your_secure_database_password_change_this
DB_SSL=false

# Database Encryption Key
# CRITICAL: Minimum 32 characters (128 chars recommended)
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# WARNING: Changing this will make encrypted patient data UNREADABLE!
DB_ENCRYPTION_KEY=REPLACE_WITH_128_CHAR_HEX_STRING

# JWT Secrets
# CRITICAL: Must be DIFFERENT, minimum 32 chars (128 recommended)
# Generate TWO different: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=REPLACE_WITH_FIRST_128_CHAR_HEX
JWT_REFRESH_SECRET=REPLACE_WITH_SECOND_DIFFERENT_128_CHAR_HEX
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# AWS Configuration (Required for production)
AWS_REGION=eu-central-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
S3_BUCKET_NAME=medweg-invoices
SES_SENDER_EMAIL=noreply@medweg.de

# PWA Push Notifications
# Generate: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:admin@medweg.de

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# Backend URL (for email logo embedding)
BACKEND_URL=http://localhost:5000

# Email Configuration (Gmail SMTP)
# For Gmail: Enable 2FA and generate App Password at https://myaccount.google.com/apppasswords
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-gmail-address@gmail.com
EMAIL_PASSWORD=your-16-char-app-password-here
EMAIL_FROM_NAME=MEDWEG Bavaria
EMAIL_FROM_ADDRESS=your-gmail-address@gmail.com

# Email Verification
EMAIL_VERIFICATION_CODE_EXPIRY_MINUTES=10

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_LOGIN_MAX=5

# Logging
LOG_LEVEL=debug
LOG_FILE_PATH=./logs

# Cron Jobs
CRON_ENABLED=true
CRON_TIMEZONE=Europe/Berlin
